language: r

r:
  - oldrel
  - release
  - devel

r_packages:
 - BH
 - Rcpp
 - testthat
 - covr
 - roxygen2
 - devtools

before_script:
 - echo '# Generated by roxygen2: do not edit by hand' > NAMESPACE
 - Rscript -e 'devtools::document()'

after_success:
 - Rscript -e 'covr::coveralls()'
 - Rscript -e 'library(covr); codecov()'